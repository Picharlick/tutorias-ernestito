<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutor√≠as - Clases Personalizadas</title>
    <link rel="stylesheet" href="tutorias_ernestito/styles/main.css">
    <link rel="stylesheet" href="tutorias_ernestito/styles/booking.css">
    <!-- SDK de EmailJS -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        /* Estilos para notificaciones */
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            z-index: 10000;
            max-width: 300px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            animation: slideIn 0.3s ease-out;
        }

        .notification.success {
            background-color: #4CAF50;
        }

        .notification.error {
            background-color: #f44336;
        }

        /* Estilos para el modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 15% auto;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 500px;
            text-align: center;
        }

        .close-modal {
            float: right;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- Navegaci√≥n -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">üéì Aethra Academy</div>
            <div class="nav-links">
                <a href="#inicio">Inicio</a>
                <a href="#nosotros">Nosotros</a>
                <a href="#clases">Clases</a>
                <a href="#tutores">Nuestros Tutores</a>
                <a href="#agendar">Agendar Clase</a>
                <a href="#contacto">Contacto</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="inicio">
        <div class="hero-content">
            <h1>Aethra Academy: Tutor√≠as personalizadas</h1>
            <p>Somos la nueva generaci√≥n de educaci√≥n: estudiantes universitarios transformando vidas acad√©micas. Creemos que el mejor apoyo viene de quien reci√©n recorri√≥ el camino. No somos profesores tradicionales.</p>
            <div class="hero-buttons">
                <a href="#agendar" class="cta-button primary">Agendar Primera Clase</a>
                <a href="#tutores" class="cta-button secondary">Conocer Tutores</a>
            </div>
        </div>
    </section>

    <!-- Secci√≥n Qui√©nes Somos -->
    <section class="about-section" id="nosotros">
        <div class="container">
            <div class="about-header">
                <div class="section-badge">CON√ìCENOS</div>
                <h2>M√°s Que Tutores,<br><span class="gradient-text">Tus Aliados Acad√©micos</span></h2>
                <p class="section-subtitle">Descubre por qu√© los padres y estudiantes nos eligen</p>
            </div>

            <div class="features-showcase">
                <div class="feature-highlight">
                    <div class="feature-content">
                        <div class="feature-number">01</div>
                        <h3>Expertise Universitario Reciente</h3>
                        <p>Nuestros tutores son estudiantes destacados de universidades top que dominan los contenidos actualizados y conocen los desaf√≠os reales que enfrentan los estudiantes hoy.</p>
                        <ul class="feature-list">
                            <li>Conocimiento actualizado de curr√≠culos</li>
                            <li>T√©cnicas de estudio modernas</li>
                            <li>Experiencia pr√°ctica reciente</li>
                        </ul>
                    </div>
                    <div class="feature-visual">
                        <div class="visual-card university-card">
                            <div class="card-header">Universidad</div>
                            <div class="card-content">Tutores de pregrado y posgrado</div>
                        </div>
                    </div>
                </div>

                <div class="feature-highlight reverse">
                    <div class="feature-content">
                        <div class="feature-number">02</div>
                        <h3>Enfoque 100% Personalizado</h3>
                        <p>No creemos en soluciones gen√©ricas. Cada estudiante recibe un plan de estudio dise√±ado espec√≠ficamente para sus necesidades, estilo de aprendizaje y objetivos.</p>
                        <ul class="feature-list">
                            <li>Diagn√≥stico inicial gratuito</li>
                            <li>Plan de estudio personalizado</li>
                            <li>Seguimiento continuo del progreso</li>
                        </ul>
                    </div>
                    <div class="feature-visual">
                        <div class="visual-card personal-card">
                            <div class="card-header">Personalizaci√≥n</div>
                            <div class="card-content">Plan √∫nico para cada estudiante</div>
                        </div>
                    </div>
                </div>

                <div class="feature-highlight">
                    <div class="feature-content">
                        <div class="feature-number">03</div>
                        <h3>Resultados Comprobados</h3>
                        <p>Nuestro m√©todo ha demostrado ser efectivo una y otra vez. Los estudiantes no solo mejoran su rendimiento, sino que desarrollan confianza y h√°bitos de estudio duraderos.</p>
                        <ul class="feature-list">
                            <li>Progreso visible desde las primeras sesiones</li>
                            <li>95% de satisfacci√≥n reportada</li>
                            <li>Desarrollo de autonom√≠a acad√©mica</li>
                        </ul>
                    </div>
                    <div class="feature-visual">
                        <div class="visual-card results-card">
                            <div class="card-header">Resultados</div>
                            <div class="card-content">H√°bitos de estudio duraderos</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="impact-stats">
                <div class="stat-card">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-data">
                        <div class="stat-number">98%</div>
                        <div class="stat-label">de estudiantes mejoran su rendimiento acad√©mico</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚ö°</div>
                    <div class="stat-data">
                        <div class="stat-number">24/7</div>
                        <div class="stat-label">soporte y seguimiento</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üåü</div>
                    <div class="stat-data">
                        <div class="stat-number">4.9/5</div>
                        <div class="stat-label">rating de satisfacci√≥n</div>
                    </div>
                </div>
            </div>

            <div class="cta-section">
                <div class="cta-content">
                    <h3>¬øListo para Transformar el Rendimiento Acad√©mico?</h3>
                    <p>√önete a los cientos de estudiantes que ya descubrieron el poder de la educaci√≥n personalizada</p>
                    <a href="#agendar" class="cta-button primary">Comenzar Ahora</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n de Niveles -->
    <section class="levels-section" id="clases">
        <div class="container">
            <h2>Selecciona el Nivel del Estudiante</h2>
            <p class="section-subtitle">Encuentra el tutor perfecto para cada grado escolar</p>

            <div class="levels-grid">
                <!-- Primaria -->
                <div class="level-category">
                    <h3>Educaci√≥n Primaria</h3>
                    <div class="grades-grid">
                        <div class="grade-card" data-level="1primaria">
                            <span>1¬∞ Primaria</span>
                        </div>
                        <div class="grade-card" data-level="2primaria">
                            <span>2¬∞ Primaria</span>
                        </div>
                        <div class="grade-card" data-level="3primaria">
                            <span>3¬∞ Primaria</span>
                        </div>
                        <div class="grade-card" data-level="4primaria">
                            <span>4¬∞ Primaria</span>
                        </div>
                        <div class="grade-card" data-level="5primaria">
                            <span>5¬∞ Primaria</span>
                        </div>
                        <div class="grade-card" data-level="6primaria">
                            <span>6¬∞ Primaria</span>
                        </div>
                    </div>
                </div>

                <!-- Secundaria -->
                <div class="level-category">
                    <h3>Educaci√≥n Secundaria</h3>
                    <div class="grades-grid">
                        <div class="grade-card" data-level="1secundaria">
                            <span>1¬∞ Secundaria</span>
                        </div>
                        <div class="grade-card" data-level="2secundaria">
                            <span>2¬∞ Secundaria</span>
                        </div>
                        <div class="grade-card" data-level="3secundaria">
                            <span>3¬∞ Secundaria</span>
                        </div>
                        <div class="grade-card" data-level="4secundaria">
                            <span>4¬∞ Secundaria</span>
                        </div>
                        <div class="grade-card" data-level="5secundaria">
                            <span>5¬∞ Secundaria</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n de Tutores -->
    <section class="tutors-section" id="tutores">
        <div class="container">
            <h2>Nuestros Tutores Calificados:</h2>
            <div class="tutors-grid" id="tutorsGrid">
                <!-- Los tutores se cargan din√°micamente -->
            </div>
        </div>
    </section>

    <!-- Sistema de Agendamiento -->
    <section class="booking-section" id="agendar">
        <div class="container">
            <h2>Agenda tu Clase</h2>
            <p class="section-subtitle">Presencial o Virtual</p>

            <div class="booking-form-container">
                <form id="bookingForm" class="booking-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="studentName">Nombre del Estudiante *</label>
                            <input type="text" id="studentName" name="studentName" required>
                        </div>
                        <div class="form-group">
                            <label for="parentName">Nombre del Padre/Tutor *</label>
                            <input type="text" id="parentName" name="parentName" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="nivel">Nivel del Estudiante *</label>
                            <select id="nivel" name="nivel" required>
                                <option value="">Selecciona el nivel</option>
                                <optgroup label="Primaria">
                                    <option value="1primaria">1¬∞ Primaria</option>
                                    <option value="2primaria">2¬∞ Primaria</option>
                                    <option value="3primaria">3¬∞ Primaria</option>
                                    <option value="4primaria">4¬∞ Primaria</option>
                                    <option value="5primaria">5¬∞ Primaria</option>
                                    <option value="6primaria">6¬∞ Primaria</option>
                                </optgroup>
                                <optgroup label="Secundaria">
                                    <option value="1secundaria">1¬∞ Secundaria</option>
                                    <option value="2secundaria">2¬∞ Secundaria</option>
                                    <option value="3secundaria">3¬∞ Secundaria</option>
                                    <option value="4secundaria">4¬∞ Secundaria</option>
                                    <option value="5secundaria">5¬∞ Secundaria</option>
                                </optgroup>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="materia">Materia Principal *</label>
                            <select id="materia" name="materia" required>
                                <option value="">Selecciona materia</option>
                                <option value="matematicas">Matem√°ticas</option>
                                <option value="ciencias">Ciencias</option>
                                <option value="lenguaje">Lenguaje y Comunicaci√≥n</option>
                                <option value="ingles">Ingl√©s</option>
                                <option value="historia">Historia</option>
                                <option value="fisica">F√≠sica</option>
                                <option value="quimica">Qu√≠mica</option>
                                <option value="biologia">Biolog√≠a</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="modalidad">Modalidad *</label>
                            <select id="modalidad" name="modalidad" required>
                                <option value="">Selecciona modalidad</option>
                                <option value="presencial">Presencial</option>
                                <option value="virtual">Virtual</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="fecha">Fecha Preferida *</label>
                            <input type="date" id="fecha" name="fecha" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="horario">Horario Preferido *</label>
                            <select id="horario" name="horario" required>
                                <option value="">Selecciona horario</option>
                                <option value="ma√±ana">Ma√±ana (8:00 - 12:00)</option>
                                <option value="tarde">Tarde (14:00 - 18:00)</option>
                                <option value="noche">Noche (18:00 - 21:00)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="frecuencia">Frecuencia *</label>
                            <select id="frecuencia" name="frecuencia" required>
                                <option value="">Selecciona frecuencia</option>
                                <option value="unica">Clase √önica</option>
                                <option value="semanal">Una vez por semana</option>
                                <option value="bisemanal">Dos veces por semana</option>
                                <option value="diario">Clases diarias</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="contacto">Email *</label>
                        <input type="email" id="contacto" name="contacto" required>
                    </div>

                    <div class="form-group full-width">
                        <label for="telefono">Tel√©fono de Contacto *</label>
                        <input type="tel" id="telefono" name="telefono" required>
                    </div>

                    <div class="form-group full-width">
                        <label for="mensaje">Mensaje Adicional</label>
                        <textarea id="mensaje" name="mensaje" rows="4" placeholder="Especificar temas puntuales, dudas, o informaci√≥n adicional..."></textarea>
                    </div>

                    <button type="submit" class="submit-btn" id="submitBtn">
                        <span class="btn-text">Solicitar Clase</span>
                        <span class="btn-loading" style="display: none;">Enviando...</span>
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Contacto -->
    <section class="contact-section" id="contacto">
        <div class="container">
            <h2>Contacto</h2>
            <div class="contact-grid">
                <div class="contact-info">
                    <h3>Informaci√≥n de Contacto</h3>
                    <div class="contact-item">
                        <strong>üìß Email:</strong>
                        <span>aethra.contacto@gmail.com</span>
                    </div>
                    <div class="contact-item">
                        <strong>üìû Tel√©fono:</strong>
                        <span>+51 939 562 368</span>
                    </div>
                    <div class="contact-item">
                        <strong>üïí Horario de Atenci√≥n:</strong>
                        <span>Lunes a Viernes: 8:00am - 20:00pm</span>
                    </div>
                </div>

                <div class="admin-contact">
                    <h3>Contacto Directo con Administradores</h3>
                    <form id="adminContactForm">
                        <div class="form-group">
                            <label for="adminEmail">Tu Email *</label>
                            <input type="email" id="adminEmail" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="adminSubject">Asunto *</label>
                            <input type="text" id="adminSubject" name="subject" required>
                        </div>
                        <div class="form-group">
                            <label for="adminMessage">Mensaje *</label>
                            <textarea id="adminMessage" name="message" rows="4" required></textarea>
                        </div>
                        <button type="submit" class="submit-btn">Enviar Mensaje</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Aethra Academy. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Modal de Confirmaci√≥n -->
    <div id="confirmationModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>¬°Solicitud Enviada Exitosamente!</h3>
            <p id="modalMessage">Nos contactaremos contigo dentro de las pr√≥ximas 24 horas para confirmar los detalles de tu clase.</p>
            <button id="modalCloseBtn" class="cta-button primary">Entendido</button>
        </div>
    </div>

    <script src="tutorias_ernestito/scripts/main.js"></script>
    <script src="tutorias_ernestito/scripts/booking.js"></script>

    <!-- Script de EmailJS - LISTO PARA USAR -->
    <script>
        // =============================================
        // CONFIGURACI√ìN - REEMPLAZA CON TUS DATOS REALES
        // =============================================
        const EMAILJS_CONFIG = {
            SERVICE_ID: 'service_rpolnux',                    // Tu Service ID
            BOOKING_TEMPLATE_ID: 'template_y5ft9ya',
            CONTACT_TEMPLATE_ID: 'template_y5ft9ya',
            PUBLIC_KEY: '_aSnkHZbMK-8jRI9e'                  // Tu Public Key de EmailJS
        };

        // =============================================
        // INICIALIZACI√ìN
        // =============================================
        console.log('üîß Inicializando EmailJS...');

        try {
            emailjs.init(EMAILJS_CONFIG.PUBLIC_KEY);
            console.log('‚úÖ EmailJS inicializado correctamente');
        } catch (error) {
            console.error('‚ùå Error inicializando EmailJS:', error);
            showNotification('Error de configuraci√≥n. Por favor, contacta al administrador.', false);
        }

        // =============================================
        // FUNCIONES AUXILIARES
        // =============================================
        function showNotification(message, isSuccess = true) {
            console.log(`üì¢ Notificaci√≥n: ${message} | √âxito: ${isSuccess}`);

            const notification = document.createElement('div');
            notification.className = `notification ${isSuccess ? 'success' : 'error'}`;
            notification.textContent = message;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-in';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 5000);
        }

        function toggleButtonLoading(button, isLoading) {
            if (button.id === 'submitBtn') {
                const btnText = button.querySelector('.btn-text');
                const btnLoading = button.querySelector('.btn-loading');
                btnText.style.display = isLoading ? 'none' : 'inline';
                btnLoading.style.display = isLoading ? 'inline' : 'none';
            } else {
                button.textContent = isLoading ? 'Enviando...' : 'Enviar Mensaje';
            }
            button.disabled = isLoading;
        }

        // =============================================
        // MANEJADOR DE FORMULARIO DE AGENDAMIENTO
        // =============================================
        document.getElementById('bookingForm').addEventListener('submit', async function(event) {
            event.preventDefault();
            console.log('üìù Enviando formulario de agendamiento...');

            const submitBtn = document.getElementById('submitBtn');
            toggleButtonLoading(submitBtn, true);

            try {
                // Validar datos antes de enviar
                const formData = new FormData(this);
                console.log('üìã Datos del formulario:', Object.fromEntries(formData));

                // Enviar con EmailJS
                const response = await emailjs.sendForm(
                    EMAILJS_CONFIG.SERVICE_ID,
                    EMAILJS_CONFIG.BOOKING_TEMPLATE_ID,
                    this
                );

                console.log('‚úÖ √âxito:', response);
                showNotification('¬°Solicitud enviada con √©xito! Te contactaremos pronto.');

                // Limpiar formulario
                this.reset();

                // Mostrar modal de confirmaci√≥n
                document.getElementById('confirmationModal').style.display = 'block';

            } catch (error) {
                console.error('‚ùå Error detallado:', error);

                // Diagn√≥stico espec√≠fico del error
                let errorMessage = 'Error al enviar el formulario. ';

                if (error.text && error.text.includes('Invalid template ID')) {
                    errorMessage += 'Error de configuraci√≥n: Template ID incorrecto.';
                } else if (error.text && error.text.includes('Invalid service ID')) {
                    errorMessage += 'Error de configuraci√≥n: Service ID incorrecto.';
                } else if (error.text && error.text.includes('Invalid user ID')) {
                    errorMessage += 'Error de configuraci√≥n: Public Key incorrecta.';
                } else {
                    errorMessage += 'Por favor, int√©ntalo de nuevo.';
                }

                showNotification(errorMessage, false);
            } finally {
                toggleButtonLoading(submitBtn, false);
            }
        });

        // =============================================
        // MANEJADOR DE FORMULARIO DE CONTACTO
        // =============================================
        document.getElementById('adminContactForm').addEventListener('submit', async function(event) {
            event.preventDefault();
            console.log('üìß Enviando formulario de contacto...');

            const submitBtn = this.querySelector('.submit-btn');
            toggleButtonLoading(submitBtn, true);

            try {
                const formData = new FormData(this);
                console.log('üìã Datos del contacto:', Object.fromEntries(formData));

                const response = await emailjs.sendForm(
                    EMAILJS_CONFIG.SERVICE_ID,
                    EMAILJS_CONFIG.CONTACT_TEMPLATE_ID,
                    this
                );

                console.log('‚úÖ √âxito:', response);
                showNotification('¬°Mensaje enviado con √©xito! Te responderemos pronto.');
                this.reset();

            } catch (error) {
                console.error('‚ùå Error detallado:', error);
                showNotification('Error al enviar el mensaje. Por favor, int√©ntalo de nuevo.', false);
            } finally {
                toggleButtonLoading(submitBtn, false);
            }
        });

        // =============================================
        // MANEJADOR DEL MODAL
        // =============================================
        document.querySelector('.close-modal').addEventListener('click', function() {
            document.getElementById('confirmationModal').style.display = 'none';
        });

        document.getElementById('modalCloseBtn').addEventListener('click', function() {
            document.getElementById('confirmationModal').style.display = 'none';
        });

        console.log('üöÄ Script de EmailJS cargado correctamente');
    </script>
</body>
</html>